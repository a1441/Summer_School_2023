import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt


data=pd.read_csv('Zephyr Data Emo with new categories.csv', engine="python", delimiter=';')
data.fillna(0, inplace=True)

print(data['Name of the volunteer'].unique())

columns = data.columns.to_list()
print(columns)
type(data['Activity'].iloc[0])

#float(data['Activity'].iloc[0].replace(',','.'))

data['Activity'] = data['Activity'].str.replace(',', '.')
data['Activity'] = data['Activity'].astype(float)

data['PeakAcceleration'] = data['PeakAcceleration'].str.replace(',', '.')
data['PeakAcceleration'] = data['PeakAcceleration'].astype(float)

data['ECGAmplitude'] = data['ECGAmplitude'].str.replace(',', '.')
data['ECGAmplitude'] = data['ECGAmplitude'].astype(float)

data['ECGNoise'] = data['ECGNoise'].str.replace(',', '.')
data['ECGNoise'] = data['ECGNoise'].astype(float)

data['CoreTemp'] = data['CoreTemp'].str.replace(',', '.')
data['CoreTemp'] = data['CoreTemp'].astype(float)


#grouping
#df = data.groupby(['HR', 'HRV'])['Name of the volunteer'].unique()

#histogram of HRconfidence
bins = np.linspace(start=0, stop=100, num=11)
data['HRConfidence'].hist(bins=bins)

#data['Before Controled stress'].unique()
numerical_columns = data.select_dtypes(include=[np.number])  # Select numerical columns
non_binary_columns = numerical_columns.loc[:, ~(numerical_columns.isin([0, 1])).all()]  # Exclude columns with only 0s and 1s
# Exclude these columns as they don't provide important information
columns_to_exclude = ['Year', 'Hour']
non_binary_columns  = data.drop(columns=columns_to_exclude)
len(non_binary_columns.columns)

correlation_matrix = non_binary_columns.corr()

# Create the heatmap
plt.figure(figsize=(10, 8))  # Adjust the figure size as needed
sns.heatmap(correlation_matrix, annot=True, cmap='coolwarm')

# Set the plot title
plt.title('Pairwise Correlation Heatmap')

# Show the plot
plt.show()




